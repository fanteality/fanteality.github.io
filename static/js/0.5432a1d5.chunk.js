/*! For license information please see 0.5432a1d5.chunk.js.LICENSE.txt */
(this["webpackJsonpfanteality.github.io"]=this["webpackJsonpfanteality.github.io"]||[]).push([[0],Array(74).concat([function(e,t,n){(function(t){var r=n(83),o=t.Bmob||{};o.utils=r,o._config=r.getConfig(),o.initialize=function(e,t,n){t.length>6&&console.warn("Bmob\u521d\u59cb\u5316\u5931\u8d25\uff0c2.0\u4ee5\u4e0a\u7248\u672cSDK\u8bf7\u4f7f\u7528API\u5b89\u5168\u7801\u521d\u59cb\u5316\uff0c\u6587\u6863\u5730\u5740\uff1ahttps://bmob.github.io/hydrogen-js-sdk/#/?id=\u521d\u59cb\u5316"),o._config.secretKey=e,o._config.securityCode=t,o._config.applicationMasterKey=n},o.debug=function(e){o._config.deBug=e,o._config=r.getConfig(e)},e.exports=o}).call(this,n(12))},function(e,t,n){"use strict";var r=n(94),o=n(113),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"===typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"===typeof t[r]&&"object"===typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports={isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isUndefined:function(e){return"[object Undefined]"===Object.prototype.toString.call(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(77),o=n(78),i=function(){"use strict";function e(t,n){r(this,e);var o=new Error;return o.code=t,o.message=n?"Bmob.Error:{code:".concat(t,", message:").concat(n,"}"):"Bmob.Error:{code:".concat(t,", message:").concat(this.errorMsg(t),"}"),o}return o(e,[{key:"errorMsg",value:function(e){switch(e){case 415:return"incorrect parameter type.";case 416:return"Parameter is null.";case 417:return"There is no upload content.";case 418:return"Log in failure.";case 419:return"Bmob.GeoPoint location error.";default:return"unknown error"}}}]),e}();e.exports=i},function(e,t,n){var r,o=n(83).getAppType();"h5"===o?r=n(93):"wx"===o?r=n(130):"hap"===o?r=n(131):"nodejs"===o&&(r=n(93)),e.exports=r},function(e,t,n){e.exports=n(85)},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return o}))},function(e,t,n){(function(t){var r;r=n(107);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!0===e&&(r.host=n(109).host),r};e.exports={randomString:function(){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t="",n=0;n<16;n++){t+=e[parseInt(61*Math.random())]}return t},getConfig:o,getAppType:function(){var e,n=o();return"undefined"!==typeof wx&&(e="wx"),"undefined"!==typeof window&&"string"!==typeof e&&(e="h5"),"undefined"!==typeof t&&"string"!==typeof e&&(e="nodejs"),3===n.type&&"string"!==typeof e&&(e="hap"),e}}}).call(this,n(20))},function(e,t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,o,i,a){return n((s=n(n(t,e),n(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function o(e,t,n,o,i,a,s){return r(t&n|~t&o,e,t,i,a,s)}function i(e,t,n,o,i,a,s){return r(t&o|n&~o,e,t,i,a,s)}function a(e,t,n,o,i,a,s){return r(t^n^o,e,t,i,a,s)}function s(e,t,n,o,i,a,s){return r(n^(t|~o),e,t,i,a,s)}function c(e){for(var t=1732584193,r=-271733879,c=-1732584194,u=271733878,f=0;f<e.length;f+=16){var l=t,p=r,h=c,d=u;t=o(t,r,c,u,e[f+0],7,-680876936),u=o(u,t,r,c,e[f+1],12,-389564586),c=o(c,u,t,r,e[f+2],17,606105819),r=o(r,c,u,t,e[f+3],22,-1044525330),t=o(t,r,c,u,e[f+4],7,-176418897),u=o(u,t,r,c,e[f+5],12,1200080426),c=o(c,u,t,r,e[f+6],17,-1473231341),r=o(r,c,u,t,e[f+7],22,-45705983),t=o(t,r,c,u,e[f+8],7,1770035416),u=o(u,t,r,c,e[f+9],12,-1958414417),c=o(c,u,t,r,e[f+10],17,-42063),r=o(r,c,u,t,e[f+11],22,-1990404162),t=o(t,r,c,u,e[f+12],7,1804603682),u=o(u,t,r,c,e[f+13],12,-40341101),c=o(c,u,t,r,e[f+14],17,-1502002290),t=i(t,r=o(r,c,u,t,e[f+15],22,1236535329),c,u,e[f+1],5,-165796510),u=i(u,t,r,c,e[f+6],9,-1069501632),c=i(c,u,t,r,e[f+11],14,643717713),r=i(r,c,u,t,e[f+0],20,-373897302),t=i(t,r,c,u,e[f+5],5,-701558691),u=i(u,t,r,c,e[f+10],9,38016083),c=i(c,u,t,r,e[f+15],14,-660478335),r=i(r,c,u,t,e[f+4],20,-405537848),t=i(t,r,c,u,e[f+9],5,568446438),u=i(u,t,r,c,e[f+14],9,-1019803690),c=i(c,u,t,r,e[f+3],14,-187363961),r=i(r,c,u,t,e[f+8],20,1163531501),t=i(t,r,c,u,e[f+13],5,-1444681467),u=i(u,t,r,c,e[f+2],9,-51403784),c=i(c,u,t,r,e[f+7],14,1735328473),t=a(t,r=i(r,c,u,t,e[f+12],20,-1926607734),c,u,e[f+5],4,-378558),u=a(u,t,r,c,e[f+8],11,-2022574463),c=a(c,u,t,r,e[f+11],16,1839030562),r=a(r,c,u,t,e[f+14],23,-35309556),t=a(t,r,c,u,e[f+1],4,-1530992060),u=a(u,t,r,c,e[f+4],11,1272893353),c=a(c,u,t,r,e[f+7],16,-155497632),r=a(r,c,u,t,e[f+10],23,-1094730640),t=a(t,r,c,u,e[f+13],4,681279174),u=a(u,t,r,c,e[f+0],11,-358537222),c=a(c,u,t,r,e[f+3],16,-722521979),r=a(r,c,u,t,e[f+6],23,76029189),t=a(t,r,c,u,e[f+9],4,-640364487),u=a(u,t,r,c,e[f+12],11,-421815835),c=a(c,u,t,r,e[f+15],16,530742520),t=s(t,r=a(r,c,u,t,e[f+2],23,-995338651),c,u,e[f+0],6,-198630844),u=s(u,t,r,c,e[f+7],10,1126891415),c=s(c,u,t,r,e[f+14],15,-1416354905),r=s(r,c,u,t,e[f+5],21,-57434055),t=s(t,r,c,u,e[f+12],6,1700485571),u=s(u,t,r,c,e[f+3],10,-1894986606),c=s(c,u,t,r,e[f+10],15,-1051523),r=s(r,c,u,t,e[f+1],21,-2054922799),t=s(t,r,c,u,e[f+8],6,1873313359),u=s(u,t,r,c,e[f+15],10,-30611744),c=s(c,u,t,r,e[f+6],15,-1560198380),r=s(r,c,u,t,e[f+13],21,1309151649),t=s(t,r,c,u,e[f+4],6,-145523070),u=s(u,t,r,c,e[f+11],10,-1120210379),c=s(c,u,t,r,e[f+2],15,718787259),r=s(r,c,u,t,e[f+9],21,-343485551),t=n(t,l),r=n(r,p),c=n(c,h),u=n(u,d)}return[t,r,c,u]}function u(e){for(var t="",n=0;n<4*e.length;n++)t+="0123456789abcdef".charAt(e[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(e[n>>2]>>n%4*8&15);return t}function f(e){for(var t=1+(e.length+8>>6),n=new Array(16*t),r=0;r<16*t;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=(255&e.charCodeAt(r))<<r%4*8;return n[r>>2]|=128<<r%4*8,n[16*t-2]=8*e.length,n}function l(e){"string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;n++)t.push(e[n].charCodeAt(0));return new Uint8Array(t)}(e));for(var t=1+(e.length+8>>6),n=new Array(16*t),r=0;r<16*t;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=(255&e[r])<<r%4*8;return n[r>>2]|=128<<r%4*8,n[16*t-2]=8*e.length,n}e.exports={hexMD5:function(e){return u(c(f(e)))},utf8MD5:function(e){return u(c(l(e)))}}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f={};function l(){}function p(){}function h(){}var d={};d[o]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,o)&&(d=m);var v=h.prototype=l.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"===typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=v.constructor=h,h.constructor=p,p.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),w.prototype[i]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),s(v,a,"Generator"),v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},,,function(t,n,r){"use strict";(function(n){var o=r(75),i=r(115),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof n)&&(e=r(95)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){c.headers[e]=o.merge(a)})),t.exports=c}).call(this,r(20))},function(e,t,n){var r=n(102);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},,function(e,t,n){e.exports=n(106)},function(e,t,n){var r=n(77),o=n(78),i=n(74),a=n(80),s=n(76),c=s.isObject,u=s.isString,f=s.isNumber,l=s.isUndefined,p=s.isArray,h=n(79),d=n(99),y=function(){"use strict";function e(t){r(this,e),this.tableName="".concat(i._config.parameters.QUERY,"/").concat(t),this.className=t,this.init(),this.addArray={},this.setData={}}return o(e,[{key:"init",value:function(){this.queryData={},this.location={},this.andData={},this.orData={},this.stat={},this.limitNum=100,this.skipNum=0,this.includes="",this.queryReilation={},this.orders=null,this.keys=null}},{key:"get",value:function(e){var t=this;if(!u(e))throw new h(415);var n={},r={},o={},i={},s=function(e,t){if(!u(e)||!p(t))throw new h(415);i[e]={__op:"Add",objects:t}},c=function(e,t){if(!u(e)||!p(t))throw new h(415);i[e]={__op:"AddUnique",objects:t}},y=function(e,t){if(!u(e)||!p(t))throw new h(415);i[e]={__op:"Remove",objects:t}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!u(e)||!f(t))throw new h(415);r[e]={__op:"Increment",amount:t}},v=function(t){if(!u(e))throw new h(415);o[t]={__op:"Delete"}},g=function(e,t){if(!u(e)||l(t))throw new h(415);var r=t.filename,o=t.cdn,i=t.url;l(r)||l(o)||l(i)?n[e]=t:n[e]={__type:"File",group:o,filename:r,url:i}},w=function(){var s=Object.assign(o,n,r,i);return"_User"===t.className?new Promise((function(n,r){a("".concat(t.tableName,"/").concat(e),"put",s).then((function(e){var r=t.current(),o=Object.assign(r,s);d.save("bmob",o),n(e)})).catch((function(e){r(e)}))})):a("".concat(t.tableName,"/").concat(e),"put",s)},b={};return""!==this.includes&&(b.include=this.includes),new Promise((function(n,r){a("".concat(t.tableName,"/").concat(e),"get",b).then((function(r){Object.defineProperty(r,"set",{value:g}),Object.defineProperty(r,"unset",{value:v}),Object.defineProperty(r,"save",{value:w}),Object.defineProperty(r,"increment",{value:m}),Object.defineProperty(r,"add",{value:s}),Object.defineProperty(r,"remove",{value:y}),Object.defineProperty(r,"addUnique",{value:c}),Object.defineProperty(r,"destroy",{value:function(){return t.destroy(e)}}),n(r)})).catch((function(e){r(e)}))}))}},{key:"destroy",value:function(e){if(!u(e))throw new h(415);return a("".concat(this.tableName,"/").concat(e),"delete")}},{key:"set",value:function(e,t){if(!u(e)||l(t))throw new h(415,"".concat(e,"\u5b57\u6bb5\u53c2\u6570,\u7c7b\u578b\u4e0d\u6b63\u786e"));var n=t.filename,r=t.cdn,o=t.url;l(n)||l(r)||l(o)?this.setData[e]=t:this.setData[e]={__type:"File",group:r,filename:n,url:o}}},{key:"add",value:function(e,t){if(!u(e)||!p(t))throw new h(415);this.addArray[e]={__op:"Add",objects:t}}},{key:"addUnique",value:function(e,t){if(!u(e)||!p(t))throw new h(415);this.addArray[e]={__op:"AddUnique",objects:t}}},{key:"current",value:function(){if("hap"!==i.type){var e=d.fetch("bmob");return"object"===typeof e?e:JSON.parse(e)}return new Promise((function(e,t){return d.fetch("bmob").then((function(t){e(t)})).catch((function(e){t(e)}))}))}},{key:"updateStorage",value:function(e){var t=this;if(!u(e))throw new h(415);return new Promise((function(n,r){var o=t.current();if(!o)throw new h(415);t.get(e).then((function(e){var t=Object.assign(o,e);d.save("bmob",t),n(e)})).catch((function(e){console.log(e),r(e)}))}))}},{key:"save",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!c(t))throw new h(415);var n=this.setData.id?"PUT":"POST",r=this.setData.id?this.setData.id:"";delete this.setData.id;var o=Object.assign(t,this.setData,this.addArray);return new Promise((function(t,i){a("".concat(e.tableName,"/").concat(r),n,o).then((function(n){if(e.addArray={},e.setData={},"_User"===e.className){var r=e.current(),i=Object.assign(r,o);d.save("bmob",i)}t(n)})).catch((function(e){i(e)}))}))}},{key:"saveAll",value:function(e){var t,n,r=this;if(!p(e))throw new h(415);if(e.length<1)throw new h(416);var o="put",s=[];e.map((function(e){return"/undefined"===(t="/".concat(e.objectId))&&(t="",o="post"),n={method:o,path:"".concat(r.tableName).concat(t),body:e.setData},s.push(n),e}));var c={requests:s},u=i._config.parameters.BATCH;return a(u,"POST",c)}},{key:"withinKilometers",value:function(e,t){var n=t.latitude,r=t.longitude,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i={};return i[e]={$nearSphere:{__type:"GeoPoint",latitude:n,longitude:r},$maxDistanceInKilometers:o},this.location=i,i}},{key:"withinGeoBox",value:function(e,t,n){var r=t.latitude,o=t.longitude,i={};return i[e]={$within:{$box:[{__type:"GeoPoint",latitude:r,longitude:o},{__type:"GeoPoint",latitude:n.latitude,longitude:n.longitude}]}},this.location=i,i}},{key:"statTo",value:function(e,t){if(!u(e))throw new h(415);return this.stat[e]=t,this.stat}},{key:"equalTo",value:function(e,t,n){if(!u(e))throw new h(415);var r=function(e,t,n){var r={},o=null;switch(o="createdAt"===e||"updateAt"===e?{__type:"Date",iso:n}:n,t){case"==":case"===":r[e]=o;break;case"!=":r[e]={$ne:o};break;case"<":r[e]={$lt:o};break;case"<=":r[e]={$lte:o};break;case">":r[e]={$gt:o};break;case">=":r[e]={$gte:o};break;default:throw new h(415)}return r}(e,t,n);return Object.keys(this.queryData).length?l(this.queryData.$and)?this.queryData={$and:[this.queryData,r]}:this.queryData.$and.push(r):this.queryData=r,r}},{key:"containedIn",value:function(e,t){if(!u(e)||!p(t))throw new h(415);return m.call(this,e,"$in",t)}},{key:"notContainedIn",value:function(e,t){if(!u(e)||!p(t))throw new h(415);return m.call(this,e,"$nin",t)}},{key:"exists",value:function(e){if(!u(e))throw new h(415);return m.call(this,e,"$exists",!0)}},{key:"doesNotExist",value:function(e){if(!u(e))throw new h(415);return m.call(this,e,"$exists",!1)}},{key:"or",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.map((function(e,t){if(!c(e))throw new h(415)}));var r=this.queryData.$and;if(!l(r)){for(var o=0;o<r.length;o++)for(var i=0;i<t.length;i++)JSON.stringify(r[o])===JSON.stringify(t[i])&&this.queryData.$and.splice(o,1);r.length||delete this.queryData.$and}this.orData={$or:t}}},{key:"and",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.map((function(e,t){if(!c(e))throw new h(415)})),this.andData={$and:t}}},{key:"limit",value:function(e){if(!f(e))throw new h(415);e>1e3&&(e=1e3),this.limitNum=e}},{key:"skip",value:function(e){if(!f(e))throw new h(415);this.skipNum=e}},{key:"order",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.map((function(e){if(!u(e))throw new h(415)})),this.orders=t.join(",")}},{key:"include",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.map((function(e){if(!u(e))throw new h(415)})),this.includes=t.join(",")}},{key:"select",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.map((function(e){if(!u(e))throw new h(415)})),this.keys=t.join(",")}},{key:"field",value:function(e,t){if(!u(e)||!u(t))throw new h(415);this.queryReilation.where={$relatedTo:{object:{__type:"Pointer",className:this.className,objectId:t},key:e}}}},{key:"relation",value:function(e){if(!u(e))throw new h(415);e="_User"===e?"users":"classes/".concat(e),this.queryReilation.count=1;var t=Object.assign(this.getParams(),this.queryReilation);return new Promise((function(n,r){a("/1/".concat(e),"get",t).then((function(e){n(e)})).catch((function(e){r(e)}))}))}},{key:"getParams",value:function(){var e={};for(var t in Object.keys(this.queryData).length&&(e.where=this.queryData),Object.keys(this.location).length&&(e.where=Object.assign(this.location,this.queryData)),Object.keys(this.andData).length&&(e.where=Object.assign(this.andData,this.queryData)),Object.keys(this.orData).length&&(e.where=Object.assign(this.orData,this.queryData)),e.limit=this.limitNum,e.skip=this.skipNum,e.include=this.includes,e.order=this.orders,e.keys=this.keys,Object.keys(this.stat).length&&(e=Object.assign(e,this.stat)),e)(e.hasOwnProperty(t)&&null===e[t]||0===e[t]||""===e[t])&&delete e[t];return e}},{key:"find",value:function(){var e=this,t={},n={},r=this.getParams(),o=function(e,n){if(!e||l(n))throw new h(415);t[e]=n},s=function(){var r,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"updata";if(console.log(s),n.length<1)throw new h(416);var c="put",u=[];n.map((function(n){return"/undefined"===(r="/".concat(n.objectId))&&(r="",c="post"),o={method:c,path:"".concat(e.tableName).concat(r),body:t},"delete"===s&&(o={method:"DELETE",path:"".concat(e.tableName).concat(r)}),u.push(o),n}));var f={requests:u},l=i._config.parameters.BATCH;return a(l,"POST",f)};return new Promise((function(t,i){a("".concat(e.tableName),"get",r).then((function(i){var a=i.results;r.hasOwnProperty("count")&&(a=i),e.init(),Object.defineProperty(a,"set",{value:o}),Object.defineProperty(a,"saveAll",{value:function(){return s()}}),Object.defineProperty(a,"destroyAll",{value:function(){return s("delete")}}),n=a,t(a)})).catch((function(e){i(e)}))}))}},{key:"count",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n={};return Object.keys(this.queryData).length&&(n.where=this.queryData),Object.keys(this.andData).length&&(n.where=Object.assign(this.andData,this.queryData)),Object.keys(this.orData).length&&(n.where=Object.assign(this.orData,this.queryData)),n.count=1,n.limit=t,new Promise((function(t,r){a(e.tableName,"get",n).then((function(e){var n=e.count;t(n)})).catch((function(e){r(e)}))}))}}]),e}();function m(e,t,n){var r={},o={};o[t]=n,r[e]=o;var i=r;return Object.keys(this.queryData).length?l(this.queryData.$and)?this.queryData={$and:[this.queryData,i]}:this.queryData.$and.push(i):this.queryData=i,i}e.exports=y},function(e,t,n){var r=n(112),o=n(74),i=n(84),a=function(e,t,n,r){var a="wechatApp";"nodejs"===o.type&&(a="cloudcode");var s=Math.round((new Date).getTime()/1e3),c="get"===n||"delete"===n?"":JSON.stringify(r),u=o.utils.randomString(),f={"content-type":"application/json","X-Bmob-SDK-Type":a,"X-Bmob-Safe-Sign":i.utf8MD5(t+s+e.securityCode+u+c+e.serverVersion),"X-Bmob-Safe-Timestamp":s,"X-Bmob-Noncestr-Key":u,"X-Bmob-SDK-Version":e.serverVersion,"X-Bmob-Secret-Key":e.secretKey};return e.applicationMasterKey&&(f["X-Bmob-Master-Key"]=e.applicationMasterKey),f};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(s,c){void 0===o.User&&(o=n(74));var u=a(o._config,e,t,i),f=o.User.current();f&&(u["X-Bmob-Session-Token"]=f.sessionToken);var l=r.create({baseURL:o._config.host,headers:u,validateStatus:function(e){return e<500}}),p={url:e,method:t};"get"===p.method?p.params=i:p.data=i,!0===o._config.deBug&&(console.log("host:",o._config.host),console.log("parma:",i)),l(p).then((function(e){var t=e.data;(t.code&&t.error||t.error)&&c(t),s(t)})).catch((function(e){c(e)}))}))}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(t,n,r){"use strict";var o=r(75),i=r(116),a=r(118),s=r(119),c=r(120),u=r(96),f="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||r(121);t.exports=function(t){return new Promise((function(n,l){var p=t.data,h=t.headers;o.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest,y="onreadystatechange",m=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in d||c(t.url)||(d=new window.XDomainRequest,y="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";h.Authorization="Basic "+f(v+":"+g)}if(d.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[y]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:e,config:t,request:d};i(n,l,r),d=null}},d.onerror=function(){l(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},o.isStandardBrowserEnv()){var w=r(122),b=(t.withCredentials||c(t.url))&&t.xsrfCookieName?w.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&o.forEach(h,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===p&&(p=null),d.send(p)}))}},function(e,t,n){"use strict";var r=n(117);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r,o=n(83).getAppType();"h5"===o?r=n(132):"wx"===o?r=n(133):"hap"===o?r=n(134):"nodejs"===o&&(r=n(135)),e.exports=r},function(e,t,n){var r=n(137);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(138),o=n(139),i=n(140);e.exports=function(e){return function(){var t,n=r(e);if(o()){var a=r(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return i(this,t)}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(147),o=n(148),i=n(89),a=n(149);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()}},,,function(e,t,n){(function(t){var r=n(74),o=n(110),i=n(111),a=n(92),s=n(136),c=n(143),u=n(145),f=n(146),l=n(150),p=l.generateCode,h=l.getAccessToken,d=l.sendWeAppMessage,y=l.refund,m=l.notifyMsg,v=l.functions,g=l.timestamp,w=l.requestPasswordReset,b=l.resetPasswordBySmsCode,S=l.updateUserPassword,E=l.geoPoint,x=l.checkMsg,k=l.push,_=n(151),O=_.requestSmsCode,D=_.verifySmsCode;r.GeoPoint=E,r.generateCode=p,r.getAccessToken=h,r.sendWeAppMessage=d,r.refund=y,r.checkMsg=x,r.notifyMsg=m,r.requestSmsCode=O,r.verifySmsCode=D,r.run=r.functions=v,r.timestamp=g,r.requestPasswordReset=w,r.resetPasswordBySmsCode=b,r.updateUserPassword=S,r.push=k,r.Pay=new u,r.User=new s,r.Socket=function(e){return new f(e)},r.Query=function(e){return new a(e)},r.File=function(e,t){return new c(e,t)},r.request=n(80),r.type=r.utils.getAppType(),r.Pointer=function(e){return new o(e)},r.Relation=function(e){return new i(e)},"wx"===r.type?"undefined"!==typeof tt?tt.Bmob=r:wx.Bmob=r:"h5"===r.type?window.Bmob=r:("hap"===r.type||"nodejs"===r.type)&&(t.Bmob=r),e.exports=r}).call(this,n(12))},function(t,n,r){var o,i;try{o=r(108),i="v".concat(o.version)}catch(e){i="v1.0.0"}t.exports={host:"https://api.bmobcloud.com",secretKey:"",securityCode:"",applicationMasterKey:"",parameters:{GENERATECODE:"/1/wechatApp/qr/generatecode",GETACCESSTOKEN:"/1/wechatApp/getAccessToken",SENDWEAPPMESSAGE:"/1/wechatApp/SendWeAppMessage",NOTIFYMSG:"/1/wechatApp/notifyMsg",REFUND:"/1/pay/refund",REQUESTSMSCODE:"/1/requestSmsCode",VERIFYSMSCODE:"/1/verifySmsCode",FUNCTIONS:"/1/functions",REQUESTPASSWORDRESET:"/1/requestPasswordReset",RESETPASSWORDBYSMSCODE:"/1/resetPasswordBySmsCode",UPDATEUSERPASSWORD:"/1/updateUserPassword",PUSH:"/1/push",FILES:"/2/files",FILESCHECK:"/1/wechatApp/checkImg",DELFILES:"/2/cdnBatchDelete",TIMESTAMP:"/1/timestamp",LOGIN:"/1/login",REGISTER:"/1/users",REQUEST_EMAIL_VERIFY:"/1/requestEmailVerify",USERS:"/1/users",PAY:"/1/pay",WECHAT_APP:"/1/wechatApp/",BATCH:"/1/batch",CHECK_MSG:"/1/wechatApp/checkMsg",DECRYPTION:"/1/wechatApp/decryption",QUERY:"/1/classes"},version:i,serverVersion:10,deBug:!1,type:3}},function(e){e.exports=JSON.parse('{"name":"hydrogen-js-sdk","version":"2.2.4","description":"Bmob SDK","main":"./index.js","typings":"./index.d.ts","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","build":"webpack --config config/prod.env.js","watch":"webpack --watch --config config/prod.env.js","dev":"webpack-dev-server --config config/dev.env.js"},"repository":{"type":"git","url":"git+https://github.com/bmob/hydrogen-js-sdk.git"},"author":"Bmob","license":"ISC","bugs":{"url":"https://github.com/bmob/hydrogen-js-sdk/issues"},"homepage":"https://github.com/bmob/hydrogen-js-sdk#readme","dependencies":{"babel-runtime":"^6.26.0","node.extend":"^2.0.0","webpack":"^3.12.0"},"devDependencies":{"babel-core":"^6.26.3","babel-loader":"^7.1.5","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","clean-webpack-plugin":"^0.1.19","eslint":"^4.19.1","eslint-config-standard":"^11.0.0","eslint-friendly-formatter":"^4.0.1","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.12.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.1.0","html-webpack-plugin":"^2.30.1","uglifyjs-webpack-plugin":"^1.2.5","webpack-dev-server":"^2.11.2"},"directories":{"doc":"docs"},"keywords":["Bmob"]}')},function(e,t){e.exports={host:"https://apitest.bmob.cn",applicationId:"",applicationKey:"",parameters:{GENERATECODE:"/1/wechatApp/qr/generatecode",GETACCESSTOKEN:"/1/wechatApp/getAccessToken",SENDWEAPPMESSAGE:"/1/wechatApp/SendWeAppMessage",NOTIFYMSG:"/1/wechatApp/notifyMsg",REFUND:"/1/pay/refund",REQUESTSMSCODE:"/1/requestSmsCode",VERIFYSMSCODE:"/1/verifySmsCode",FUNCTIONS:"/1/functions",REQUESTPASSWORDRESET:"/1/requestPasswordReset",RESETPASSWORDBYSMSCODE:"/1/resetPasswordBySmsCode",UPDATEUSERPASSWORD:"/1/updateUserPassword",PUSH:"/1/push",FILES:"/2/files",FILESCHECK:"/1/wechatApp/checkImg",DELFILES:"/2/cdnBatchDelete",TIMESTAMP:"/1/timestamp",LOGIN:"/1/login",REGISTER:"/1/users",REQUEST_EMAIL_VERIFY:"/1/requestEmailVerify",USERS:"/1/users",PAY:"/1/pay",WECHAT_APP:"/1/wechatApp/",BATCH:"/1/batch",CHECK_MSG:"/1/wechatApp/checkMsg",DECRYPTION:"/1/wechatApp/decryption",QUERY:"/1/classes"},version:1,serverVersion:10,deBug:!1,type:1}},function(e,t,n){var r=n(77),o=n(78),i=n(76).isString,a=n(79),s=function(){"use strict";function e(t){if(r(this,e),!i(t))throw new a(415);this.tableName=t}return o(e,[{key:"set",value:function(e){if(!i(e))throw new a(415);return{__type:"Pointer",className:this.tableName,objectId:e}}}]),e}();e.exports=s},function(e,t,n){var r=n(77),o=n(78),i=n(76),a=i.isString,s=i.isArray,c=n(79),u=function(){"use strict";function e(t){if(r(this,e),!a(t))throw new c(415);this.tableName=t}return o(e,[{key:"add",value:function(e){return f.call(this,e,"AddRelation")}},{key:"remove",value:function(e){return f.call(this,e,"RemoveRelation")}}]),e}();function f(e,t){var n=this;if(a(e))return{__op:t,objects:[{__type:"Pointer",className:this.tableName,objectId:e}]};if(s(e)){var r=[];return e.map((function(e){if(!a(e))throw new c(415);r.push({__type:"Pointer",className:n.tableName,objectId:e})})),{__op:t,objects:r}}throw new c(415)}e.exports=u},function(e,t,n){"use strict";var r=n(75),o=n(94),i=n(114),a=n(88);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(a);c.Axios=i,c.create=function(e){return s(r.merge(a,e))},c.Cancel=n(98),c.CancelToken=n(128),c.isCancel=n(97),c.all=function(e){return Promise.all(e)},c.spread=n(129),e.exports=c,e.exports.default=c},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(88),o=n(75),i=n(123),a=n(124);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"===typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=s},function(e,t,n){"use strict";var r=n(75);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(96);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(75);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(75),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(75);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),i="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(s="=",a%1);i+=s.charAt(63&t>>8-a%1*8)){if((n=o.charCodeAt(a+=3/4))>255)throw new r;t=t<<8|n}return i}},function(e,t,n){"use strict";var r=n(75);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(75);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(75),o=n(125),i=n(97),a=n(88),s=n(126),c=n(127);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(75);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(98);function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){var r=n(74),o=n(84),i="wechatApp";"undefined"!==typeof tt?i="toutiao":"undefined"!==typeof qq&&(i="qqApp");var a=function(e,t,n,a){var s=Math.round((new Date).getTime()/1e3),c=r.utils.randomString(),u="get"===n||"delete"===n?"":JSON.stringify(a),f=o.utf8MD5(t+s+e.securityCode+c+u+e.serverVersion),l={"content-type":"application/json","X-Bmob-SDK-Type":i,"X-Bmob-Safe-Sign":f,"X-Bmob-Safe-Timestamp":s,"X-Bmob-Noncestr-Key":c,"X-Bmob-SDK-Version":e.serverVersion,"X-Bmob-Secret-Key":e.secretKey};return e.applicationMasterKey&&(l["X-Bmob-Master-Key"]=e.applicationMasterKey),l};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,s){var c=a(r._config,e,t,o);void 0===r.User&&(r=n(74));var u=r.User.current();u&&(c["X-Bmob-Session-Token"]=u.sessionToken),!0===r._config.deBug&&(console.log("host:",r._config.host),console.log("parma:",o)),wx.request({url:r._config.host+e,method:t,data:o,header:c,success:function(e){(e.data.code&&e.data.error||e.data.error)&&s(e.data),i(e.data)},fail:function(e){console.log(e),s(e)}})}))}},function(e,t,n){var r=n(74),o=n(84),i="xxrequire('@system.fetch')xx",a=function(e,t,n,i){var a=Math.round((new Date).getTime()/1e3),s=r.utils.randomString(),c="get"===n||"delete"===n?"":JSON.stringify(i),u={"content-type":"application/json","X-Bmob-SDK-Type":"wechatApp","X-Bmob-Safe-Sign":o.utf8MD5(t+a+e.securityCode+s+c+e.serverVersion),"X-Bmob-Safe-Timestamp":a,"X-Bmob-Noncestr-Key":s,"X-Bmob-SDK-Version":e.serverVersion,"X-Bmob-Secret-Key":e.secretKey};return e.applicationMasterKey&&(u["X-Bmob-Master-Key"]=e.applicationMasterKey),u};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(s,c){var u=a(r._config,e,t,o);void 0===r.User&&(r=n(74));var f=r.User.current();f&&(u["X-Bmob-Session-Token"]=f.sessionToken),"object"===typeof o&&(o=JSON.stringify(o)),i.fetch({url:r._config.host+e,header:u,method:t,data:o,success:function(e){var t=JSON.parse(e.data);t.code&&c(t),s(t)},fail:function(e,t){console.log("handling fail, code = ".concat(t)),c(e)}})}))}},function(e,t,n){var r,o=n(76).isString;r="undefined"!==typeof cc?cc.sys.localStorage:localStorage;var i={save:function(e,t){if(!o(e)||!t)throw new Error(415);r.setItem(e,JSON.stringify(t))},fetch:function(e){if(!o(e))throw new Error(415);return JSON.parse(r.getItem(e))||null},remove:function(e){if(!o(e))throw new Error(415);r.removeItem(e)},clear:function(){r.clear()}};e.exports=i},function(e,t,n){var r=n(76),o=r.isString,i=r.isObject,a={save:function(e,t){if(!o(e)||!t)throw new Error(415);return t=i(t)?JSON.stringify(t):t,wx.setStorageSync(e,t)},fetch:function(e){if(!o(e))throw new Error(415);return wx.getStorageSync(e)||null},remove:function(e){if(!o(e))throw new Error(415);return wx.removeStorageSync(e)},clear:function(){return wx.clearStorageSync()}};e.exports=a},function(e,t,n){var r=n(76).isString,o="xxrequire('@system.storage')xx",i={save:function(e,t){if(!r(e)||!t)throw new Error(415);o.set({key:e,value:JSON.stringify(t),success:function(e){return console.log("handling success"),e},fail:function(e,t){console.log("handling fail, code = ".concat(t))}})},fetch:function(e){if(!r(e))throw new Error(415);return new Promise((function(t,n){return o.get({key:e,success:function(e){t(e||null)},fail:function(e,t){console.log("handling fail, code = ".concat(t)),n(e)}})}))},remove:function(e){if(!r(e))throw new Error(415);o.delete({key:e,success:function(e){console.log("handling success")},fail:function(e,t){console.log("handling fail, code = ".concat(t))}})},clear:function(){o.clear({success:function(e){console.log("handling success")},fail:function(e,t){console.log("handling fail, code = ".concat(t))}})}};e.exports=i},function(e,t){e.exports={save:function(e,t){},fetch:function(e){return null},remove:function(e){},clear:function(){}}},function(e,t,n){var r=n(77),o=n(78),i=n(100),a=n(101),s=n(80),c=n(99),u=n(92),f=n(74),l=n(79),p=n(76),h=p.isObject,d=p.isString,y=p.isNumber,m=function(e){"use strict";i(n,e);var t=a(n);function n(){r(this,n);return t.call(this,"_User")}return o(n,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";d(e)&&(this.setData[e]=t)}},{key:"requestEmailVerify",value:function(e){if(!d(e))throw new l(415);this.setData=Object.assign({},{email:e}),console.log(this.setData);var t=f._config.parameters.REQUEST_EMAIL_VERIFY;return s(t,"post",this.setData)}},{key:"register",value:function(e){if(!h(e))throw new l(415);this.setData=Object.assign({},e);var t=f._config.parameters.REGISTER;return s(t,"post",this.setData)}},{key:"login",value:function(e,t){var n=this;if(!d(e)||!d(t))throw new l(415);this.setData=Object.assign({},{username:e,password:t});var r=f._config.parameters.LOGIN;return new Promise((function(e,t){s(r,"get",n.setData).then((function(t){c.save("bmob",t),e(t)})).catch((function(e){t(e)}))}))}},{key:"logout",value:function(){c.clear()}},{key:"users",value:function(){var e=f._config.parameters.USERS;return s(e,"get")}},{key:"decryption",value:function(e){var t=this;return new Promise((function(n,r){var o=e.iv?e.iv:e.detail.iv,i=e.encryptedData?e.encryptedData:e.detail.encryptedData,a=t.current(),c={sessionKey:"undefined"!==typeof tt?a.authData.toutiao.session_key:"undefined"!==typeof qq?a.authData.qqapp.session_key:a.authData.weapp.session_key,encryptedData:i,iv:o},u=f._config.parameters.DECRYPTION;s(u,"POST",c).then((function(e){n(e)})).catch((function(e){r(e)}))}))}},{key:"signOrLoginByMobilePhone",value:function(e,t){if(!y(e)||!y(t))throw new l(415);this.setData=Object.assign({},{mobilePhoneNumber:e,smsCode:t});var n=f._config.parameters.LOGIN;return s(n,"get",this.setData)}},{key:"requestOpenId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=f._config.parameters.WECHAT_APP;return s(n+e,"POST",{anonymous_code:t})}},{key:"linkWith",value:function(e){var t={authData:e},n=f._config.parameters.USERS;return s(n,"POST",t)}},{key:"loginWithWeapp",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;return new Promise((function(o,i){t.requestOpenId(e,n).then((function(e){var n={weapp:e};if("undefined"!==typeof tt&&(delete e.error,n={toutiao:e}),"undefined"!==typeof qq&&(delete e.errcode,delete e.errmsg,n={qqapp:e}),"openid"===r)o(e);else{var i=t.linkWith(n);o(i)}})).catch((function(e){i(e)}))}))}},{key:"upInfo",value:function(e){var t=this;if(!h(e))throw new l(415);return new Promise((function(n,r){var o=e.nickName,i=e.avatarUrl,a=t.current();if(!a)throw new l(415);var s=c.fetch("openid");t.get(a.objectId).then((function(e){e.set("nickName",o),e.set("userPic",i),e.set("openid",s),e.save().then((function(e){n(e)})).catch((function(e){console.log(e),r(e)}))})).catch((function(e){console.log(e),r(e)}))}))}},{key:"openId",value:function(){this.auth("openid")}},{key:"auth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return new Promise((function(n,r){var o=function(){wx.login({success:function(o){var i="";"undefined"!==typeof tt&&(i=o.anonymousCode),t.loginWithWeapp(o.code,i,e).then((function(e){if(e.error)throw new l(415);var t;t="undefined"!==typeof tt?e.authData.toutiao.openid:"undefined"!==typeof qq?e.authData.qqapp.openid:e.authData.weapp.openid,c.save("openid",t),c.save("bmob",e),n(e)}),(function(e){r(e)}))}})};wx.checkSession({success:function(){var e=t.current();if(null===e){r("\u767b\u9646\u9519\u8bef\uff0c\u8bf7\u5728Bmob\u540e\u53f0\u586b\u5199\u5c0f\u7a0b\u5e8fAppSecret\u3002")}n(e),o()},fail:function(){o()}})}))}}]),n}(u);e.exports=m},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(t,n){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(141),o=n(142);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?o(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=n(144),o=n(77),i=n(78),a=n(80),s=n(74),c=n(79),u=n(83),f=n(84),l=n(76),p=l.isString,h=l.isArray,d=[],y=function(){"use strict";function e(t,n){if(o(this,e),t&&n){if(!p(t))throw new c(415);var r=t.substring(t.lastIndexOf(".")+1);d.push({name:t,route:"".concat(s._config.parameters.FILES,"/").concat(s._config.secretKey,".").concat(r),data:n})}}return i(e,[{key:"fileUpload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return new Promise((function(o,i){void 0===s.User&&(s=n(74));var a="bmob",c=s.User.current();c&&(a=c.sessionToken);var u=[],l=Math.round((new Date).getTime()/1e3),p=s.utils.randomString(),h=d[0].route;"wxc"===e&&(h=h.replace(s._config.parameters.FILES,s._config.parameters.FILESCHECK));var y,m={"content-type":"application/json","X-Bmob-SDK-Type":"wechatApp","X-Bmob-Safe-Sign":f.utf8MD5(h+l+s._config.securityCode+p),"X-Bmob-Safe-Timestamp":l,"X-Bmob-Noncestr-Key":p,"X-Bmob-Session-Token":a,"X-Bmob-Secret-Key":s._config.secretKey},v=Object.assign({_ContentType:"text/plain",mime_type:"text/plain",category:"wechatApp",_ClientVersion:"js3.6.1",_InstallationId:"bmob"},m),g=r(d);try{for(g.s();!(y=g.n()).done;){var w=y.value,b=w.route;"wxc"===e&&(b=w.route.replace(s._config.parameters.FILES,s._config.parameters.FILESCHECK)),console.log(w.route,s._config.parameters.FILESCHECK,"ror"),wx.uploadFile({url:s._config.host+b,filePath:w.data,name:"file",header:m,formData:v,success:function(n){var r=JSON.parse(n.data);"wxc"===e?"ok"===r.msg?o(t.fileUpload()):i(r):(u.push(r),u.length===d.length&&(d=[],o(u),i(u)))},fail:function(e){u.push(e)}})}}catch(S){g.e(S)}finally{g.f()}}))}},{key:"imgSecCheck",value:function(){if(!d.length)throw new c(417);return this.fileUpload("wxc")}},{key:"save",value:function(){if(!d.length)throw new c(417);var e,t=u.getAppType();if("h5"===t||"nodejs"===t)e=new Promise((function(e,t){var n,o=[],i=r(d);try{for(i.s();!(n=i.n()).done;){var s=n.value;a(s.route,"post",s.data).then((function(n){o.push(n),o.length===d.length&&(d=[],e(o),t(o))})).catch((function(e){o.push(e)}))}}catch(c){i.e(c)}finally{i.f()}}));else{if("wx"===t){if(!d.length)throw new c(417);return this.fileUpload("wx")}"hap"===t&&(e=new Promise((function(e,t){void 0===s.User&&(s=n(74));var o="bmob",i=s.User.current();i&&(o=i.sessionToken);var a=[],c=Math.round((new Date).getTime()/1e3),u=s.utils.randomString(),l=d[0].route;console.log("rand",u,s,l);var p,h={"content-type":"application/json","X-Bmob-SDK-Type":"wechatApp","X-Bmob-Safe-Sign":f.utf8MD5(l+c+s._config.securityCode+u),"X-Bmob-Safe-Timestamp":c,"X-Bmob-Noncestr-Key":u,"X-Bmob-Session-Token":o,"X-Bmob-Secret-Key":s._config.secretKey},y=Object.assign({_ContentType:"text/plain",mime_type:"text/plain",category:"wechatApp",_ClientVersion:"js3.6.1",_InstallationId:"bmob"},h),m=r(d);try{for(m.s();!(p=m.n()).done;){var v=p.value;"xxrequire('@system.request')xx".upload({url:s._config.host+v.route,files:[{uri:v.data,name:"file",filename:v.name}],header:{"X-Bmob-SDK-Type":"wechatApp"},data:y,success:function(n){console.log("handling success"+a);var r=n.data;a.push(r),a.length===d.length&&(d=[],e(a),t(a))},fail:function(e,t){console.log("handling fail, code = ".concat(t))}})}}catch(g){m.e(g)}finally{m.f()}})))}return e}},{key:"destroy",value:function(e){if(p(e))return a("".concat(s._config.parameters.FILES,"/upyun/").concat(e.split(".com/")[1]),"delete");if(h(e)){var t=[];return e.map((function(e){t.push(e.split(".com/")[1])})),a(s._config.parameters.DELFILES,"post",{upyun:t})}throw new c(415)}}]),e}();e.exports=y},function(e,t,n){var r=n(89);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,a=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(s)throw i}}}}},function(e,t,n){var r=n(77),o=n(78),i=n(80),a=n(74),s=n(79),c=function(){"use strict";function e(){r(this,e)}return o(e,[{key:"weApp",value:function(e,t,n){var r=wx.getStorageSync("openid");if(!e||!t||!n||!r)throw new s(416);var o={order_price:e,product_name:t,body:n,open_id:r,pay_type:4},c=a._config.parameters.PAY;return i(c,"post",o)}}]),e}();e.exports=c},function(t,n,r){var o=r(77),i=r(78),a=r(103),s=r(79),c=function(e){var t=[];Object.assign(e,{on:function(e,n){"function"===typeof n&&t.push([e,n])},emit:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.forEach((function(t){var n=a(t,2),o=n[0],i=n[1];return e===o&&i.apply(void 0,r)}))},removeAllListeners:function(){t=[]}})};t.exports=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(o(this,t),""===e)throw new s(415);this.config={host:"wss.bmobcloud.com"},c(this.emitter={}),this.applicationId=e,this.initialize()}return i(t,[{key:"handshake",value:function(){var t="https://"+this.config.host+"/socket.io/1/?t="+(new Date).getTime(),n=JSON.stringify({});return new Promise((function(r,o){wx.request({method:"GET",url:t,data:n,header:{"content-type":"text/plain"},success:function(t){return t.data&&t.data.statusCode||200!==t.statusCode?r("request error",e):r(function(e){if(!(e instanceof s))return e.split(":")[0];self.connecting=!1,self.onError(e.message)}(t.data))},fail:function(e){return r("request error",e)}})}))}},{key:"initialize",value:function(){var e=this;return this.emitter.removeAllListeners(),this.handshake().then((function(t){try{var n=e.connect("wss://".concat(e.config.host,"/socket.io/1/websocket/")+t,{});console.log(n,"connectObj"),n.then((function(e){console.log(e,"res-res")}))}catch(r){throw console.error({connectError:r}),r}})),this.on("close",(function(){console.log("\u8fde\u63a5\u5df2\u4e2d\u65ad"),setTimeout((function(){return e.initialize()}),5e3)})),new Promise((function(t,n){e.on("server_pub",(function(t){switch(t.action){case"updateTable":e.onUpdateTable(t.tableName,t.data);break;case"updateRow":e.onUpdateRow(t.tableName,t.objectId,t.data);break;case"deleteTable":e.onDeleteTable(t.tableName,t.data);break;case"deleteRow":e.onDeleteRow(t.tableName,t.objectId,t.data)}})),e.on("client_send_data",(function(t){e.onInitListen()}))}))}},{key:"onInitListen",value:function(){}},{key:"connect",value:function(t,n){var r=this,o=Object.keys(n).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(n[e]))})).join("&"),i=t.indexOf("?")>-1?"&":"?";return t=[t,o].join(i),new Promise((function(o,i){wx.onSocketOpen(o),wx.onSocketError(i),wx.onSocketMessage((function(t){try{var n=t.data;if("2:::"===n.slice(0,4)&&r.emit(!1,!0),null===(n=n.slice(4))||""===n)return;var o=function(e){var t=JSON.parse(e);return{name:t.name,args:t.args}}(n),i=o.name,a=o.args,s=null==a?"":JSON.parse(a[0]);r.emitter.emit(i,s)}catch(e){console.log("Handle packet failed: "+t.data,e)}})),wx.onSocketClose((function(){return r.emitter.emit("close")})),wx.connectSocket({url:t,header:n})}))}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"emit",value:function(e,t){t=void 0===t?"5:::":"2:::",e=e?JSON.stringify(e):"",wx.sendSocketMessage({data:t+e})}},{key:"emitData",value:function(e,t){return{name:e,args:[t=JSON.stringify(t)]}}},{key:"updateTable",value:function(e){var t={appKey:this.applicationId,tableName:e,objectId:"",action:"updateTable"};t=this.emitData("client_sub",t),this.emit(t)}},{key:"unsubUpdateTable",value:function(e){var t={appKey:this.applicationId,tableName:e,objectId:"",action:"unsub_updateTable"};t=this.emitData("client_sub",t),this.emit(t)}},{key:"updateRow",value:function(e,t){var n={appKey:this.applicationId,tableName:e,objectId:t,action:"updateRow"};n=this.emitData("client_sub",n),this.emit(n)}},{key:"unsubUpdateRow",value:function(e,t){var n={appKey:this.applicationId,tableName:e,objectId:t,action:"unsub_updateRow"};n=this.emitData("client_sub",n),this.emit(n)}},{key:"deleteTable",value:function(e){var t={appKey:this.applicationId,tableName:e,objectId:"",action:"deleteTable"};t=this.emitData("client_sub",t),this.emit(t)}},{key:"unsubDeleteTable",value:function(e){var t={appKey:this.applicationId,tableName:e,objectId:"",action:"unsub_deleteTable"};t=this.emitData("client_sub",t),this.emit(t)}},{key:"deleteRow",value:function(e,t){var n={appKey:this.applicationId,tableName:e,objectId:t,action:"deleteRow"};n=this.emitData("client_sub",n),this.emit(n)}},{key:"unsubDeleteRow",value:function(e,t){var n={appKey:this.applicationId,tableName:e,objectId:t,action:"unsub_deleteRow"};n=this.emitData("client_sub",n),this.emit(n)}},{key:"onUpdateTable",value:function(e,t){}},{key:"onUpdateRow",value:function(e,t,n){}},{key:"onDeleteTable",value:function(e,t){}},{key:"onDeleteRow",value:function(e,t,n){}}]),t}()},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(80),o=n(74),i=n(79),a=n(76),s=a.isObject,c=a.isString;e.exports={generateCode:function(e){if(!s(e))throw new i(415);var t=o._config.parameters.GENERATECODE;return r(t,"post",e)},getAccessToken:function(){var e=o._config.parameters.GETACCESSTOKEN;return r(e,"get")},sendWeAppMessage:function(e){if(!s(e))throw new i(415);var t=o._config.parameters.SENDWEAPPMESSAGE;return r(t,"post",e)},refund:function(e){if(!s(e))throw new i(415);var t=o._config.parameters.REFUND;return r(t,"post",e)},notifyMsg:function(e){if(!s(e))throw new i(415);var t=o._config.parameters.NOTIFYMSG;return r(t,"post",e)},functions:function(e,t){if(t||(t={}),!c(e))throw new i(415);var n="".concat(o._config.parameters.FUNCTIONS,"/").concat(e);return new Promise((function(e,o){r(n,"post",t).then((function(t){var n=t.result;try{e(JSON.parse(n))}catch(r){e(n)}})).catch((function(e){o(e)}))}))},timestamp:function(){var e=o._config.parameters.TIMESTAMP;return r(e,"get")},requestPasswordReset:function(e){if(!s(e))throw new i(415);var t=o._config.parameters.REQUESTPASSWORDRESET;return r(t,"post",e)},resetPasswordBySmsCode:function(e,t){if(!c(e))throw new i(415);var n="".concat(o._config.parameters.RESETPASSWORDBYSMSCODE,"/").concat(e);return r(n,"put",t)},updateUserPassword:function(e,t){if(!s(t)||!c(e))throw new i(415);var n="".concat(o._config.parameters.UPDATEUSERPASSWORD,"/").concat(e);return r(n,"put",t)},geoPoint:function(e){var t=e.latitude,n=e.longitude;return function(e,t){if(e<-90)throw new i(419);if(e>90)throw new i(419);if(t<-180)throw new i(419);if(t>180)throw new i(419)}(t,n),{__type:"GeoPoint",latitude:t,longitude:n}},checkMsg:function(e){if(!c(e))throw new i(415);var t="".concat(o._config.parameters.CHECK_MSG);return r(t,"post",{content:e})},push:function(e){if(!s(e))throw new i(415);var t=o._config.parameters.PUSH;return r(t,"post",e)}}},function(e,t,n){var r=n(80),o=n(74),i=n(79),a=n(76),s=a.isObject,c=a.isString;e.exports={requestSmsCode:function(e,t){if(!s(e))throw new i(415);var n=o._config.parameters.REQUESTSMSCODE;return r(n,"post",e)},verifySmsCode:function(e,t,n){if(!c(e))throw new i(415);if(!s(t))throw new i(415);var a="".concat(o._config.parameters.VERIFYSMSCODE,"/").concat(e);return r(a,"post",t)}}}])]);
//# sourceMappingURL=0.5432a1d5.chunk.js.map