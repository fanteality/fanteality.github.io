{"version":3,"sources":["page/Banner/canvas.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","page/Banner/index.tsx"],"names":["Gl","c","x","y","lineWidth","color","speed","instance","Constructor","TypeError","centerX","centerY","theta","t","draw","this","Math","random","PI","ls","cos","sin","beginPath","strokeStyle","moveTo","lineTo","stroke","closePath","arr","withRouter","props","canvas","useRef","useState","setCn","anim","useCallback","window","requestAnimationFrame","fillStyle","fillRect","innerWidth","innerHeight","forEach","ele","render","i","push","gc","ceil","useEffect","cn","current","height","width","getContext","className","ref"],"mappings":"sMAAqBA,EAYjB,WAAYC,EAA6BC,EAAWC,EAAWC,EAAmBC,EAAeC,ICZtF,SAAyBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCDU6F,cAXvGR,OAWsG,OAVtGC,OAUsG,OATtGC,OASsG,OARtGO,aAQsG,OAPtGC,aAOsG,OANtGP,eAMsG,OALtGE,WAKsG,OAJtGM,WAIsG,OAHtGC,OAGsG,OAFzGC,UAEyG,OADtGT,WACsG,EAC5GU,KAAKd,EAAIA,EACTc,KAAKb,EAAIA,EACTa,KAAKZ,EAAIA,EACTY,KAAKL,QAAUR,EACfa,KAAKJ,QAAUR,EACfY,KAAKV,MAAQA,EACbU,KAAKX,UAAYA,EACjBW,KAAKT,MAAQA,EACbS,KAAKH,MAAQI,KAAKC,SAAWD,KAAKE,GAAK,EACvCH,KAAKF,EAAoB,IAAhBG,KAAKC,SACdF,KAAKD,KAAO,WACR,IAAMK,EAAK,CACPjB,EAAGa,KAAKb,EACRC,EAAGY,KAAKZ,GAERF,EAAIc,KAAKd,EACbc,KAAKH,OAASG,KAAKT,MACnBS,KAAKb,EAAIa,KAAKL,QAAUM,KAAKI,IAAIL,KAAKH,OAASG,KAAKF,EACpDE,KAAKZ,EAAIY,KAAKJ,QAAUK,KAAKK,IAAIN,KAAKH,OAASG,KAAKF,EACpDZ,EAAEqB,YACFrB,EAAEG,UAAYW,KAAKX,UACnBH,EAAEsB,YAAcR,KAAKV,MACrBJ,EAAEuB,OAAOL,EAAGjB,EAAGiB,EAAGhB,GAClBF,EAAEwB,OAAOV,KAAKb,EAAGa,KAAKZ,GACtBF,EAAEyB,SACFzB,EAAE0B,cElCVC,G,MAAW,IACAC,uBAAW,SAACC,GACvB,IAAMC,EAAsCC,mBADX,EAEdC,qBAFc,mBAE1BhC,EAF0B,KAEvBiC,EAFuB,KAG3BC,EAAOC,uBAAY,WACrBC,OAAOC,sBAAsBH,GACzBlC,IACAA,EAAEsC,UAAY,mBACdtC,EAAEuC,SAAS,EAAG,EAAGH,OAAOI,WAAYJ,OAAOK,aAC3Cd,EAAIe,SAAQ,SAACC,GACTA,EAAI9B,aAGb,CAACb,IACE4C,EAAST,uBAAY,WACvB,IAAIlC,EAAImC,OAAOI,WACXtC,EAAIkC,OAAOK,YACf,GAAIzC,EAAG,CACH,IAAK,IAAI6C,EAAI,EAAGA,EAAI,IAAKA,IACrBlB,EAAImB,KAAK,IAAI/C,EAAGC,EAAGC,EAAI,EAAGC,EAAI,EAAG,EAAG6C,IAAM,MAE9Cb,OAEL,CAAClC,EAAGkC,IAWP,SAASa,IAGL,IAFA,IACI/C,EAAI,IACC6C,EAAI,EAAGA,EAAI,EAAGA,IACnB7C,GAHI,mBAGGe,KAAKiC,KAAqB,GAAhBjC,KAAKC,WAE1B,OAAOhB,EAEX,OAjBAiD,qBAAU,WACN,IAAIC,EAAKpB,EAAOqB,QAChBD,EAAGE,OAAShB,OAAOK,YACnBS,EAAGG,MAAQjB,OAAOI,WAClBP,EAAMiB,EAAGI,WAAW,OAEpBV,MACD,CAACA,IAWA,yBAAKW,UAAU,eACX,4BAAQC,IAAK1B,GAAb,0GACA,yBAAKyB,UAAU,oBAAf","file":"static/js/3.65d49f66.chunk.js","sourcesContent":["export default class Gl {\r\n    protected c: CanvasRenderingContext2D;\r\n    protected x: number;\r\n    protected y: number;\r\n    protected centerX: number;\r\n    protected centerY: number;\r\n    protected lineWidth: number;\r\n    protected speed: number;\r\n    protected theta: number;\r\n    protected t: number;\r\n    public draw: any;\r\n    protected color: string;\r\n    constructor(c: CanvasRenderingContext2D, x: number, y: number, lineWidth: number, color: string, speed: number) {\r\n        this.c = c;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.centerX = x;\r\n        this.centerY = y;\r\n        this.color = color;\r\n        this.lineWidth = lineWidth;\r\n        this.speed = speed;\r\n        this.theta = Math.random() * Math.PI * 2;\r\n        this.t = Math.random() * 1000;\r\n        this.draw = function () {\r\n            const ls = {\r\n                x: this.x,\r\n                y: this.y,\r\n            };\r\n            let c = this.c;\r\n            this.theta += this.speed;\r\n            this.x = this.centerX + Math.cos(this.theta) * this.t;\r\n            this.y = this.centerY + Math.sin(this.theta) * this.t;\r\n            c.beginPath();\r\n            c.lineWidth = this.lineWidth;\r\n            c.strokeStyle = this.color;\r\n            c.moveTo(ls.x, ls.y);\r\n            c.lineTo(this.x, this.y);\r\n            c.stroke();\r\n            c.closePath();\r\n        };\r\n    }\r\n}\r\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Gl from './canvas';\r\nimport './index.scss';\r\nvar arr: any = [];\r\nexport default withRouter((props) => {\r\n    const canvas: React.MutableRefObject<any> = useRef();\r\n    const [c, setCn] = useState<CanvasRenderingContext2D>();\r\n    const anim = useCallback(() => {\r\n        window.requestAnimationFrame(anim);\r\n        if (c) {\r\n            c.fillStyle = 'rgba(0,0,0,0.09)';\r\n            c.fillRect(0, 0, window.innerWidth, window.innerHeight);\r\n            arr.forEach((ele: Gl) => {\r\n                ele.draw();\r\n            });\r\n        }\r\n    }, [c]);\r\n    const render = useCallback(() => {\r\n        let x = window.innerWidth,\r\n            y = window.innerHeight;\r\n        if (c) {\r\n            for (var i = 0; i < 300; i++) {\r\n                arr.push(new Gl(c, x / 2, y / 2, 1, gc(), 0.01));\r\n            }\r\n            anim();\r\n        }\r\n    }, [c, anim]);\r\n\r\n    useEffect(() => {\r\n        let cn = canvas.current;\r\n        cn.height = window.innerHeight;\r\n        cn.width = window.innerWidth;\r\n        setCn(cn.getContext('2d'));\r\n        // 加载完毕生成画布\r\n        render();\r\n    }, [render]);\r\n    // 随机生成描边颜色\r\n    function gc(): string {\r\n        let s = '0123456789ABCDEF';\r\n        let c = '#';\r\n        for (let i = 0; i < 6; i++) {\r\n            c += s[Math.ceil(Math.random() * 15)];\r\n        }\r\n        return c;\r\n    }\r\n    return (\r\n        <div className=\"blog_banner\">\r\n            <canvas ref={canvas}>你的浏览器不支持canvas，请更换为Chrome打开</canvas>\r\n            <div className=\"blog_banner_text\">这里是小葵花课堂</div>\r\n        </div>\r\n    );\r\n});\r\n"],"sourceRoot":""}